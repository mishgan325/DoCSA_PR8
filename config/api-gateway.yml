spring:
  cloud:
    gateway:
      httpclient:
        connect-timeout: 10000
        response-timeout: 30s
        pool:
          type: fixed
          max-connections: 100
        wiretap: true
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        - id: product-service
          uri: lb://PRODUCT-SERVICE
          predicates:
            - Path=/api/products/**
          filters:
            - StripPrefix=1

        - id: customer-service
          uri: lb://CUSTOMER-SERVICE
          predicates:
            - Path=/api/customers/**
          filters:
            - StripPrefix=1

        - id: order-service
          uri: lb://ORDER-SERVICE
          predicates:
            - Path=/api/orders/**
          filters:
            - StripPrefix=1

        - id: auth-service
          uri: lb://AUTH-SERVICE
          predicates:
            - Path=/api/auth/**
          filters:
            - StripPrefix=2

        - id: auth-oauth2
          uri: lb://AUTH-SERVICE
          predicates:
            - Path=/oauth2/**,/login/**,/logout/**
          filters:
            - StripPrefix=0

        - id: admin-server
          uri: lb://ADMIN-SERVER
          predicates:
            - Path=/admin/**
          filters:
            - StripPrefix=1

